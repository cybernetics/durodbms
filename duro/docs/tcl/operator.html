<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
<title>Durotcl commands - operator</title>
<body>

<h2>Name</h2>

<p>duro::operator - create and destroy user-defined operators

<h2>Synopsis</h2>

<p><b>duro::operator</b> arg ?arg ...?

<h2>Description</h2>

<dl>
<dt><b>duro::operator create</b> <var>opname</var> <b>-returns</b>
<var>returnType argList body txId</var>
<dd>
<p>Creates a read-only operator <var>opname</var> with the return type
<var>returnType</var>.

<p>The argument <var>argList</var> defines the arguments of the operator.
<var>argList</var> is a list of element pairs. The first element of each
pair is a argument name and the second element is the type of the argument.
Types are specified as in <a href="table.html#create">duro::table
create</a>.

<p>The argument <var>body</var> contains the Tcl code which implements the
operator. The arguments are available as Tcl variables.
Values are represented the same way as values returned by
<a href="expr.html">duro::expr</a>, with the following exception:
If the operator is a getter, the actual representation of the argument
is used instead of a possible representation.

<dt><b>duro::operator create</b> <var>opname</var> <b>-updates</b>
<var>updList argList body txId</var>
<dd>
<p>Creates an update operator <var>opname</var>. <var>updList</var> is a
list of the arguments which are updated by the operator.
These arguments must be passed to <a href="call.html">duro::call</a> as Tcl variables.

<p>The argument <var>argList</var> defines the arguments of the operator.
<var>argList</var> is a list of element pairs. The first element of each
pair is a argument name and the second element is the type of the argument.

<p>The argument <var>body</var> contains the Tcl code which implements the
operator. The arguments are available as Tcl variables.
Values are represented the same way as values returned by
<a href="expr.html">duro::expr</a>, with the following exceptions:

<ol>
<li>Updated relation arguments are passed as table names.
<li>If the operator is a setter, the actual representation of the argument
is used instead of a possible representation.
</ol>

<p>The transaction id passed to duro::call is available as $tx.

<dt><b>duro::operator drop</b> <var>opname</var> <var>txId</var>
<dd>
<p>Deletes the operator <var>opname</var>.

</dl>

<p>$Id$

</html>
